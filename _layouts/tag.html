---
layout: default
---


<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
      integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
      crossorigin=""/>
<link rel="stylesheet" href="/css/map.css" />
<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
        integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
        crossorigin=""></script>
<script src="https://cdn.klokantech.com/mapbox-gl-js/v0.43.0/mapbox-gl.js"></script>
<script src="https://cdn.klokantech.com/mapbox-gl-leaflet/latest/leaflet-mapbox-gl.js"></script>
<div id="map"></div>

<script>
var map = L.map('map');

var points = [
{% for post in page.posts %}{% for point in post.points %}
    [{{ point[1] }}, {{ point[2]}}, ["{{ point[0]}}", "{{ post.url }}"]],
{% endfor %}{% endfor %}
];

map.fitBounds(points);

var gl = L.mapboxGL({
    accessToken: "{{ site.mapbox_token }}",
    style: 'mapbox://styles/mapbox/light-v9',
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
}).addTo(map);

points.forEach(function(point) {
  L.marker(point).addTo(map).bindTooltip(point[2][0]).on("click", function() { window.location = point[2][1]; });
});

</script>

{% include list-post.html posts=page.posts %}
